# 第一章 绪论
## 数据库系统概述
- 数据(Data)是数据库中存储的基本对象
- 数据库
	- 数据库(DB)是长期存储在计算机内，有组织的，可共享的大量数据集合
	- 基本特征
		- 数据按照一定的数据模型组织，描述和存储
		- 可为各种用户共享
		- 冗余度较小
		- 数据独立性高
		- 易扩展
- 数据管理技术的发展过程
	- 人工管理阶段
	- 文件系统阶段
	- 数据库系统阶段
- 数据结构化
	- 整体结构化
		- 不在仅仅针对某一个应用，而是面向全组织
		- 不仅数据内部结构化，整体也是结构化的，数据之间具有联系
	- 数据库中实现的是数据的而真正结构化
		- 数据的结构用数据模型描述
		- 数据可以变长
		- 数据的最小存取单位是数据项
- 数据共享性高，冗余度低，易扩充
	- 数据库系统从整体角度看待和描述数据，数据面向整个系统，可以被多个用户，多个应用共享使用
	- 共享的好处
		- 减少数据冗余，节约存储空间
		- 避免数据之间的不相容性与不一致性
		- 使系统易于扩充
- 数据独立性高
	- 物理独立性
		- 指用户的应用程序，与存储在磁盘上的数据库中数据是相互独立的。
		- 当数据的物理存储改变了，应用程序不会改变。
	- 逻辑独立性
		- 指用户的应用程序与数据库的逻辑结构是相互独立的。
		- 数据的逻辑结构改变了，用户程序也可不变
	- 数据独立性是由DBMS的二级映像功能来保证的
- 数据由DBMS统一管理和控制
	- 数据的安全性保护
	- 数据的完整性检查
	- 并发控制
	- 数据库恢复
## 数据模型
- 在数据库中用数据模型这个工具来__抽象，表示和处理__现实世界中的数据和信息。通俗的讲，数据模型就是现实世界的模拟
- 数据模型应满足三方面的要求
	- 能比较真实的模拟现实世界
	- 容易为人所理解
	- 便于在计算机上实现
- 数据模型分两类
	- 概念模型
		- 也称信息模型，它是按用户的观点来对数据和信息建模，用于数据库设计
	- 逻辑模型和物理模型
		- 逻辑模型主要包括网状模型，层次模型，关系模型，面向对象模型等，按计算机系统的观点对数据进行建模，用于DBMS实现
		- 物理模型是对数据最底层的抽象，描述数据在系统内部的表示方法和存取方法，在磁盘上或磁带上的存储方式和存取方法
- 数据模型的组成要素
	- 数据结构
		- 描述数据库的组成对象，以及对象之间的联系
	- 数据操作
		- 对数据库中各种对象(型)的实例(值)允许执行的操作及有关的操作规则
	- 完整性约束条件
		- 数据模型对完整性约束条件的定义
			- 反映和规定本__数据模型__必须遵守的__基本的通用__的完整性约束条件。例如在关系模型中，任何关系必须满足实体完整性和参照完整性
			- 提供定义完整性约束条件的机制，以反映__具体应用__所涉及的数据必须遵守的特定的语义约束条件
- 概念模型
	- 信息世界的中的基本概念
		- 实体: 客观存在并可相互去别的事物成为实体。可以是具体的人，事，物或抽象的概念
		- 属性: 实体所具有的某一特性称为属性。一个实体可以由若干个属性来刻画
		- 码: 唯一标识实体的属性集称为码
		- 域: 属性的取值范围
		- 实体型
		- 实体集
		- 联系
			- 现实世界中事物内部以及事物之间的联系在信息世界中反应为实体内部的联系和实体之间的联系
			- 实体内部的联系通常是指组成实体的各属性之间的联系
			- 实体之间的联系通常是指不同实体集之间的联系
	- 两个实体型之间的关系
		- 一对一
		- 一对多
		- 多对多
	- __ER图__: ！！！！！
- 最常用的数据模型
	- 非关系模型
		- 层次模型
			- 层次模型用树形结构来表示各类实体以及实体间的联系
		- 网状模型
	- 面向对象模型
	- 对象关系模型
	- __关系模型__
		- 在用户观点下，关系模型中的数据的逻辑结构是一张二维表，由行和列组成
			- 关系
				- 一个关系对应通常说的一张表
			- 元组
				- 表中的一行即为一个元组
			- 属性
				- 表中的一列即为一个属性，给每一个属性起一个名称即为属性名
			- 主码(key)
				- 表中的某个属性组，它可以唯一确定一个元组
			- 域
				- 属性的取值范围
			- 分量
				- 元组中的一个属性值
			- 关系模式
				- 对关系的描述
				- 关系名(属性1，属性2，...，属性n)
		- 关系的完整性约束条件
			- 实体完整性
			- 参照完整性
			- 用户定义的完整性
		- 关系数据模型的优缺点
			- 优点：
				- 建立在严格的数学概念的基础上
				- 概念单一
				- 存取路径对用户透明
			- 缺点：
				- 存取路径对用户透明导致查询效率不如非关系数据模型
				- 为提高性能，必须对用户的查询请求进行优化，增加了开发DBMS的难度
## 数据库系统结构
- 从管理系统角度看，数据库通常采用三级模式结构，是数据库系统内部的系统结构
- 数据库系统模式的概念
	- 型 和 值 的概念
		- 型：对某一类数据的结构和属性的说明
		- 值：是型的一个具体赋值
	- 模式
		- 数据库逻辑结构和特征的描述
		- 是 型 的描述
		- 反应的是数据的结构及其联系
		- 模式是相对稳定的
	- 实例
		- 模式的一个具体值
		- 反映数据库某一时刻的状态
		- 同一个模式可以有很多实例
		- 实例随数据库中的数据的改动而变动
- 数据库系统的三级模式结构
	- 模式(也称逻辑模式)
		- 数据库中全体数据的逻辑结构和特征的描述
		- 所有用户的公共数据视图，综合了所有用户的需求
		- 一个数据库只有一个模式
		- 模式的定义
			- 数据的逻辑结构
			- 数据之间的联系
			- 数据有关的安全性，完整性要求
	- 内模式
		- 是数据物理结构和存储方式的描述
		- 是数据在数据库内部的表示方式
			- 记录的存储方式
			- 索引组织方式
			- 数据是否压缩存储
			- 数据是否加密
			- 数据存储记录结构的规定
		- 一个数据库只有一个内模式
	- 外模式(也称子模式，或者用户模式)
		- 数据库用户(包括应用程序员和最终用户)使用的__局部__数据的逻辑结构和特征的描述
		- 数据库用户的数据视图，是与某一应用有关的数据的逻辑表示
		- 外模式介于模式与应用之间
		- 模式与外模式是一对多关系
			- 外模式通常是模式的子集
			- 一个数据库可以由多个外模式，反映不同的用户的应用需求，看待数据的方式，对数据保密的需求
			- 对模式中的同意数据，在外模式中的结构，类型，长度，保密级别等都可以不同
		- 外模式与应用是一对多关系
			- 同一外模式也可以为某一个用户的多个应用系统所使用
			- 但一个应用程序只能使用一个外模式
		- 外模式的用途
			- 保证数据库安全性的一个有力措施
			- 每个用户只能看见和访问所对应的外模式中的数据
- 数据库的二级映像功能与数据独立性
	- 三级模式是对数据的三个抽象级别
	- 二级映像在DBMS内部实现三个抽象层次的联系和转换
		- 外模式/模式映像
			- 当模式改变时，DBA修改有关的外模式/模式映像，使外模式保持不变
			- 应用程序是依据数据的外模式编写的，从而应用程序不用修改，保证了数据与程序的逻辑独立性，简称数据的逻辑独立性
		- 模式/内模式映像
			- 当数据库的存储结构改变了(例如选用了另一种村石结构)，数据库管理员修改模式/内模式映像，使模式保持不变
			- 应用程序不受映像。保证了数据与程序的物理独立性，简称数据的物理独立性
