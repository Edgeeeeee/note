# 数据库安全性
- 只保护数据库以防止不合法使用所造成的数据泄露，更改和破坏
### 数据库安全性概述
- 数据库的不安全因素
	- 非授权用户对数据库的恶意存取和破坏
	- 数据库中重要或敏感的数据被泄露
	- 安全环境的脆弱性 
### 数据库安全性控制
- 用户身份鉴别
	- 系统提供的最外层安全保护措施
	- 用户标识：由用户名和用户标识号组成（用户标识号在系统整个生命周期内唯一）
- 存取控制
	- 存取控制机制组成
		- 定义用户权限，并将用户权限登记到数据字典中
			- 用户对某一数据对象的操作权力称为权限
		- 合法权限检查
			- 用户发出存取数据库请求，DBMS查找数据字典，进行合法权限检查
	- 用户权限定义和合法权检查机制一起组成了数据库管理系统的存取控制的子系统
	- 常用的存取控制方法
		- **自主存取控制**
			- C2级
			- 用户对不同对象有不同的存取权限
			- 不同的用户对同一对象也有不同的权限
			- 用户还可以将其拥有的权限转授给其他用户
		- **强制存取控制**
			- B1级
			- 每一个数据对象被标以一定的密级
			- 每一个用户也被授予某一个密级的许可证
			- 对于任意一个对象，只有具有合法的许可证的用户才可以存取
	- 自主存取控制方法
		- 关键字PUBLIC：表示所有用户
		- 通过SQL的GRANT语句和REVOKE语句实现
		- 用户权限组成
			- 数据对象
			- 操作类型
		- 定义用户存取权限
			- 定义用户可以在那些数据库对象上进行哪些类型的操作
		- 定义存取权限称为授权
	- GRANT子句 
		- GRANT格式：
		- 
			GRANT <权限>[,<权限>]... 
			ON <对象类型> <对象名>[,<对象类型> <对象名>]…
			TO <用户>[,<用户>]...	
			[WITH GRANT OPTION];

		- 将对制定操作对象的指定操作权限授予指定的用户
		- WITH GRANT OPTION 子句
			- 指定：可以在授予
			- 没有指定：不能传播
		- 不允许循环授权
		- 举例：把查询Student表权限授予用户U1
		- 
			GRANT SELECT
			ON TABLE STUDENT
			TO U1;
	- REVOKE子句
		- 授予的权限可以由数据库管理员或其他授权这用REVOKE语句回收
		- 格式
		- 
			REVOKE <权限>[,<权限>]... 
			ON <对象类型> <对象名>[,<对象类型><对象名>]…
			FROM <用户>[,<用户>]...[CASCADE | RESTRICT];
	- [强制存取控制方法](https://blog.csdn.net/shaoqunliu/article/details/52135987)
		- 主体的敏感度标记为许可证级别，客体的为密级
		- 敏感度标记顺序（级别递减）
			- 绝密（TS）
			- 机密（S）
			- 可信（C）
			- 公开（P）
		- 规则
			- 仅当主体的许可证级别**大于或等于**客体的密级时，该主体才能**读取**相应客体
			- 仅当主体的许可证级别**小于或等于**客体的密级时，该主体才能**写**相应客体
		- 实现强制存取控制时首先要实现自主存取控制
			- 原因：较高安全性级别提供的安全保护要包含较低级别的所有保护
- 视图机制
	- 把要保密的数据对无权存取这些数据的用户隐藏起来，对数据提供一定成都的安全保护
	- 间接的实现支持存取谓词的用户权限定义