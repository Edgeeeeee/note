# 概述
### 计算机网络在现实世界中的作用
- 21 世纪的一些重要特征是**数字化、网络化和信息化**，它是一个以**网络为核心**的信息时代。
- 网络现在已经成为信息社会的命脉和发展知识经济的**重要基础**
- 大众熟悉的三大类网络有：
	- 电信网络
	- 有线电视网络
	- 计算机网络
	- **发展最快的并起到核心作用的是计算机网络**
- 随着技术的发展，网络技术**相互融合**：
	- 电信网络和有线电视网络都逐渐融入了现代计算机网络技术，扩大了原有的服务范围
	- 计算机网络也能够向用户提供电话通信、视频通信以及传送视频节目的服务
- 从理论上讲，可以把上述三种网络融合成一种网络就能够提供所有的上述服务，这就是很早以前就提出来的“三网融合”
- Internet 的中文译名并不统一。现有的 Internet 译名有两种
	- **因特网**，这个译名是全国科学技术名词审定委员会推荐的，但却**长期未得到推广**
	- **互联网**，这是目前流行最广的、事实上的标准译名。现在我国的各种报刊杂志、政府文件以及电视节目中都毫无例外地使用这个译名。该译名能够体现出 Internet 最主要的特征：**由数量极大的各种计算机网络互连起来的**
- 不同的网络
	- **互连网**：指在局部范围互连起来的计算机网络
	- **互联网**：指当今世界上最大的计算机网络。 Internet
- 什么是互联网
	- 互联网是由数量极大的各种计算机网络互连起来而形成的网络
	- 绝大多数人通过使用互联网而认识了互联网
- 互联网之所以能够向用户提供许多服务，是因为互联网具有两个重要基本特点
	- 连通性 (connectivity)
		- 使上网用户之间都可以交换信息（数据，以及各种音频视频） ，好像这些用户的计算机都可以彼此直接连通一样
		- 注意，互联网具有虚拟的特点，无法准确知道对方是谁，也无法知道对方的位置
	- 共享（sharing）
		- 资源共享的含义是多方面的。可以是信息共享、软件共享，也可以是硬件共享
		- 由于网络的存在，这些资源好像就在用户身边一样，方便使用
- 互联网+
	- 利用信息通信技术以及互联网平台，让互联网与传统行业进行深度融合，创造新的发展生态
	- 特点：把互联网的创新成果深度融合于经济社会各领域之中，从而大大地提升了实体经济的创新力和生产力
- 互联网也给人们带来了一些负面影响，**因此，必须加强对互联网的管理**
	- 计算机病毒
	- 窃取国家机密和个人资料
### 互联网概述
##### 网络的网络
- 互联网（Internet）
	- 特指Internet，起源于美国，现已发展成为世界上最大的、覆盖全球的计算机网络
- 计算机网络（简称为网络）
	- 由若干结点(node)和连接这些结点的链路(link)组成
- 互连网（internetwork）
	- 可以通过路由器把网络互连起来，这就构成了一个覆盖范围更大的计算机网络，称之为互连网
	- 网络的网络
	- ![VZf029.png](https://s2.ax1x.com/2019/05/27/VZf029.png)
- 在网络中， node 的标准译名是“结点”而不是“节点”
- 数据结构的树 (tree) 中的 node 应当译为“节点”
- 关于云
	- 当使用一朵“云”来表示网络时，可能会有两种不同的情况
		- 云表示的网络已经包含了和网络相连的计算机
		- 云表示的网络里面就只剩下许多路由器和连接这些路由器的链路，把有关的计算机画在云的外面。习惯上，与网络相连的计算机常称为主机 (host)
		- ![VZfrK1.png](https://s2.ax1x.com/2019/05/27/VZfrK1.png)
- 基本概念
	- **网络**把许多计算机连接在一起
	- **互连网**则把许多网络通过路由器连接在一起
	- 与网络相连的计算机常称为**主机**
	- 主机可以是计算机，也可以是智能手机等智能机器。
##### 互连网基础结构发展的三个阶段
- 第一阶段：从单个网络 ARPANET 向互联网发展的过程
	- 1983 年， TCP/IP 协议成为 ARPANET 上的标准协议，使得所有使用 TCP/IP 协议的计算机都能利用互连网相互通信
	- 1990年，ARPANET 正式宣布关闭
	- internet 和 Internet 的区别
		- 以**小写字母 “i”** 开始的 internet（互连网）是一个通用名词，它泛指由多个计算机网络互连而成的网络
		- 以**大写字母 “I”** 开始的的 Internet（互联网或因特网）则是一个专用名词，它指当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络，它采用 TCP/IP 协议族作为通信的规则，且其前身是美国的 ARPANET
		- 任意把几个计算机网络互连起来（不管采用什么协议），并能够相互通信，这样构成的是一个互连网 (internet)，而不是互联网 (Internet) 
- 第二阶段：建成了三级结构的互联网
	- 它是一个三级计算机网络，分为主干网、地区网和校园网（或企业网）
	- ![VZfIKI.png](https://s2.ax1x.com/2019/05/27/VZfIKI.png)
- 第三阶段：逐渐形成了多层次ISP结构的互联网
	- 出现了**互联网服务提供者 ISP** 
	- 任何机构和个人只要向某个 ISP 交纳规定的费用，就可从该 ISP 获取所需 IP 地址的使用权，并可通过该 ISP 接入到互联网
	- 根据提供服务的覆盖面积大小以及所拥有的 IP 地址数目的不同，ISP 也分成为不同层次的 ISP：**主干 ISP**、**地区 ISP** 和 **本地 ISP**
- 万维网WWW的问世
	- 互联网已经成为世界上规模最大和增长速率最快的计算机网络
	- 互联网的迅猛发展始于 20 世纪 90 年代。由欧洲原子核研究组织 CERN 开发的万维网 WWW  (World Wide Web) 被广泛使用在互联网上，大大方便了广大非网络专业人员对网络的使用，成为互联网的这种指数级增长的主要驱动力
##### 互联网的标准化工作
- 成为互联网正式标准要经过三个阶段
	- **互联网草案** (Internet Draft) ——有效期只有六个月。在这个阶段还**不是** RFC 文档
	- **建议标准** (Proposed Standard) ——从这个阶段开始就成为 RFC 文档
	- **互联网标准** (Internet Standard) ——达到正式标准后，每个标准就分配到一个编号 STD xxxx。 一个标准可以和多个 RFC 文档关联
	- 除了建议标准和互联网标准这两种 RFC 文档外，还有三种 RFC 文档，即历史的、实验的和提供信息的 RFC 文档。
	- 所有互联网标准都以 RFC 的形式在互联网上发表
### 互连网的组成
- 从互联网的工作方式上看，可以划分为两大块
	- **边缘部分**： 由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享
	- **核心部分**：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）
##### 互连网的边缘部分
- 处在互联网边缘的部分就是连接在互联网上的所有的主机。这些主机又称为**端系统** (end system)
- 端系统在功能上可能有很大的差别
	- 小的端系统可以是一台普通个人电脑，具有上网功能的智能手机，甚至是一个很小的网络摄像头
	- 大的端系统则可以是一台非常昂贵的大型计算机
	- 端系统的拥有者可以是个人，也可以是单位（如学校、企业、政府机关等），当然也可以是某个 ISP
- 端系统之间通信的含义
	- 主机 A 和主机 B 进行通信”实际上是指：“运行在主机 A 上的某个程序和运行在主机 B 上的另一个程序进行通信
- 端系统之间的两种通信方式
	- 客户-服务器方式
		- **客户** (client) 和**服务器 **(server) 都是指通信中所涉及的两个应用进程
		- 客户服务器方式所描述的是进程之间服务和被服务的关系
		- 客户是**服务的请求方**，服务器是**服务的提供方**
		- **服务请求方和服务提供方都要使用网络核心部分所提供的服务**
		- ![VZh7l9.png](https://s2.ax1x.com/2019/05/27/VZh7l9.png)
		- 客户软件的特点
			- **被用户调用后运行**，在打算通信时主动向远地服务器发起通信（请求服务）。因此，客户程序**必须知道服务器程序的地址**
			- 不需要特殊的硬件和复杂的操作系统
		- 服务器软件的特点
			- 一种专门用来提供某种服务的程序，可同时处理多个远地或本地客户的请求
			- 系统启动后即自动调用并**一直不断地运行着**，被动地等待并接受来自各地的客户的通信请求。因此，**服务器程序不需要知道客户程序的地址**
			- 一般需要强大的硬件和高级的操作系统支持
			- 客户与服务器的通信关系建立后，**通信可以是双向的**，客户和服务器都可发送和接收数据
	- 对等方式（P2P 方式）
		- **对等连接** (peer-to-peer，简写为 P2P) 是指两个主机在通信时并不区分哪一个是服务请求方还是服务提供方
		- 只要两个主机都运行了对等连接软件 (P2P 软件) ，它们就可以进行**平等的、对等连接通信**
		- 双方都可以下载对方已经存储在硬盘中的共享文档
		- 对等连接方式从本质上看仍然是使用客户服务器方式，只是对等连接中的**每一个主机既是客户又是服务器**
		- **对等连接工作方式可支持大量对等用户（如上百万个）同时工作**
		- ![VZ4GkT.png](https://s2.ax1x.com/2019/05/27/VZ4GkT.png)
##### 互连网的核心部分
- 网络核心部分是互联网中最复杂的部分
- 网络中的核心部分要向网络边缘中的大量主机提供连通性，使边缘部分中的任何一个主机都能够向其他主机通信（即传送或接收各种形式的数据）
- 在网络核心部分起特殊作用的是**路由器 **(router）
- 路由器是实现**分组交换 (packet switching) **的关键构件，其任务是**转发**收到的分组，这是网络核心部分最重要的功能。
- **电路交换**
	- 2 部电话机只需要用 1 对电线直接连接就能够互相通话。5 部电话机两两直接相连，需 10 对电线。N 部电话机两两直接相连，需 N(N – 1)/2 对电线。这种直接连接方法所需要的电线对的数量与电话机数量的平方（ N2 ）成正比。
	- ![VZ4Rcd.png](https://s2.ax1x.com/2019/05/27/VZ4Rcd.png)
	- 当电话机的数量增多时，就要使用交换机来完成全网的交换任务
	- ![VZ45HP.png](https://s2.ax1x.com/2019/05/27/VZ45HP.png)
	- 每一部电话都直接连接到交换机上，而交换机使用交换的方法，让电话用户彼此之间可以很方便地通信。所采用的交换方式就是**电路交换 (circuit switching)**
	- 交换的含义
		- 在这里，**“交换”**(switching)的含义就是**转接** —— 把一条电话线转接到另一条电话线，使它们连通起来
		- 从通信资源的分配角度来看，“交换”就是按照某种方式**动态地分配**传输线路的资源
	- 电路交换的特点：
		- 电路交换必定是面向连接的
		- 电路交换分为三个阶段
			- **建立连接**：建立一条专用的物理通路，以保证双方通话时所需的通信资源在通信时不会被其他用户占用
			- **通信**：主叫和被叫双方就能互相通电话
			- **释放连接**：释放刚才使用的这条专用的物理通路
		- 电路交换的缺点
			- 计算机数据具有突发性
			- 这导致在传送计算机数据时，通信线路的利用率很低（用来传送数据的时间往往不到10%甚至1% ）
- **分组交换**
	- 分组交换采用**存储转发技术**
	- 再发送端，先把较长的报文**划分为较短的，固定长度的数据段**
	- 每一个数据段前面添加上首**部构**成**分组**
	- 分组交换网以**分组**作为数据传输单元
	- 依次把各个分组发送到接收端
	- 分组首部的重要性
		- **每一个**分组的首部都含有**地址**等控制信息
		- 分组交换网中的结点交换机根据收到的分组首部中的**地址信息**，把分组**转发**到下一个结点交换机
		- 每个分组在互联网中**独立地选择传输路径**
		- 用这样的**存储转发**方式，最后分组就能到达**最终目的地**
		- 最后在接收端把收到的数据**恢复称为原来的报文**
		- ![VZ5GDI.png](https://s2.ax1x.com/2019/05/27/VZ5GDI.png)
	- 优点：
		- 高效：在分组传输的过程中**动态分配**传输带宽，对通信链路是逐段占用
		- 灵活：为每一个分组**独立**地选择最合适的转发路由
		- 迅速：以分组作为传送单位，可以**不先建立连接**就能向其他主机发送分组
		- 可靠：保证可靠性的网络协议；分布式多路由的分组交换网，使网络有很好的生存性
	- 缺点
		- 分组在各结点存储转发时需要**排队**，这就会造成一定的**时延**
		- 分组必须携带的首部造成了一定的开销
- **报文交换**
	- 在 20 世纪 40 年代，电报通信也采用了基于存储转发原理的报文交换 (message switching)
	- 报文交换的时延较长，从几分钟到几小时不等。现在报文交换已经很少有人使用了
- 三种交换的比较
	- ![VZIki8.png](https://s2.ax1x.com/2019/05/27/VZIki8.png)
	- 若要连续传送大量的数据，且其传送时间远大于连接建立时间，则电路交换的传输速率较快
	- 报文交换和分组交换不需要预先分配传输带宽，在传送突发数据时可以搞整个网络的信达利用率
	- 由于一个分组的长度往往小于整个报文的长度，因此分组交换的时延比报文交换小，同时也有更好的灵活性
- 路由器
	- 在路由器中的输入和输出端口之间没有直接连线
	- 路由器处理分组的过程是
		- 把收到的分组先放入缓存（暂时存储）
		- 查找转发表，找出到某个目的地址应从哪个端口转发
		- 把分组送到适当的端口转发出去
	- 主机和路由器的不同
		- 主机是为用户进行信息处理的，并向网络发送分组，从网络接收分组
		- 路由器对分组进行存储转发，最后把分组交付目的主机
### 计算机网络的类别
##### 计算机网络的定义
- 计算机网络的定义并未统一
- 计算机网络主要是由一些通用的、可编程的硬件互连而成的，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号）。这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用
- 根据这个定义
	- 计算机网络所连接的硬件，并不限于一般的计算机，而是包括了智能手机
	- 计算机网络并非专门用来传送数据，而是能够支持很多种的应用
	- **上述的可编程硬件表明这种硬件一定包含有中央处理机**
##### 几种不同类别的网络
- 按照网络的作用范围进行分类
	- **广域网** WAN (Wide Area Network)：作用范围通常为几十到几千公里
	- **城域网** MAN (Metropolitan Area Network)：作用距离约为  5 ~ 50 公里
	- **局域网** LAN (Local Area Network) ：局限在较小的范围（如 1 公里左右）
	- **个人区域网 **PAN (Personal Area Network) ：范围很小，大约在 10 米左右
	- 若中央处理机之间的距离非常近（如仅1米的数量级甚至更小些），则一般就称之为多**处理机系统**，而不称它为计算机网络。 
- 按照网络的使用者进行分类
	- 公用网：按规定缴纳费用的人都可以使用的网络
	- 专用网：为特殊业务工作的需求而建立的网络
	- 公用网和专用网都可以提供多种服务。如传送的是计算机数据，则分别是公用计算机网络和专用计算机网络
- 用来把用户接入到互联网的网络
	- **接入网 AN** (Access Network)，它又称为本地接入网或居民接入网
	- 接入网是一类比较特殊的计算机网络，用于将用户接入互联网
	- 接入网本身既不属于互联网的核心部分，也不属于互联网的边缘部分
	- **接入网是从某个用户端系统到互联网中的第一个路由器（也称为边缘路由器）之间的一种网络**
### 计算机网络的性能
##### 计算机网络的性能指标
- 速率
	- 比特（bit）是计算机中数据量的单位，也是信息论中使用的信息量的单位
	- 速率是计算机网络中最重要的一个性能指标，指的是**数据的传送速率**，它也称为**数据率 (data rate)或比特率 (bit rate)**
	- 速率的单位是 bit/s，或 kbit/s、Mbit/s、 Gbit/s 等。例如 4  1010 bit/s 的数据率就记为 40 Gbit/s
	- **速率往往是指额定速率或标称速率，非实际运行速率**
- 带宽
	- 两种不同的意义
		- “带宽”(bandwidth) 本来是指信号具有的频带宽度，其单位是赫（或千赫、兆赫、吉赫等）
		- 在计算机网络中，带宽用来表示网络中某通道传送数据的能力。表示在单位时间内网络中的某信道所能通过的“**最高数据率**”。单位是 bit/s ，即 “比特每秒”
- 吞吐量
	- 吞吐量 (throughput) 表示在单位时间内通过某个网络（或信道、接口）的数据量
	- 吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道**实际上到底有多少数据量能够通过网络**
	- **吞吐量受网络的带宽或网络的额定速率的限制**
- 时延
	- 时延是指数据（一个报文，分组，或者比特）从网络的一端传送到另一端所需的时间
	- 有时也称为**延迟或迟延**
	- 网络中的时延由以下几个不同部分组成
		- 发送时延
			- 也称为传输时延。
			- 发送数据时，数据帧从结点进入到媒体所需要的时间
			- 也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需要的时间
			- **发送时延 = 数据帧长度（bit） / 发送速率（bit/s）**
		- 传播时延
			- 电磁波在信道中需要传播一定的距离而花费的时间
			- **发送时延与传播时延有本质上的不同**
			- 信号**发送速率**和信号在信道上的**传播速率**是完全不同的概念
			- **传播时延 = 信道长度（米） / 信号在信道上的传播速率（米/秒）**
		- 处理时延
			- 之激活路由器在收到分组时，为处理分组所花费的时间
		- 排队时延
			- 分组在路由器上输入输出队列中**排队等待处理**尽力的时延
			- **排队时延的长短往往取决于网络中但是的通信量**
	- ![VZT94f.png](https://s2.ax1x.com/2019/05/27/VZT94f.png)
	- 数据在网络中经历的总时延就是四种时延之和
		- **总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延**
	- 必须指出，在总时延中，究竟是哪一种时延占主导地位，必须具体分析
	- 注意
		- 对于高速网络链路，我们提高的仅仅是数据的**发送速率**而不是比特在链路上的**传播速率**
		- 提高链路带宽减少了数据的发送时延
		- **这句话是错误的**在高速链路（或高带宽链路）上，比特会传送得更快些
- 时延带宽积
	- 链路的时延带宽积又称为**以比特为单位的链路长度**
	- **时延带宽积 = 传播时延 * 带宽**
	- 只有在代表链路的管道都充满比特时，链路猜得到充分利用
- 往返时间RTT
	- 互联网上的信息不仅仅是单方向传输，而是双向交互的。因此有时候很需要直到双向交互一次所需的时间
	- **往返时间**表示从发送方发送数据开始，到发送方收到来自接收方的确认，总共经历的时间
	- 在互联网中，往返时间好包括**中间各结点**的处理时延，排队时延以及转发数据时的发送时延
	- **当使用卫星通信时，往返时间RTT相对较长，是很重要的一个性能指标**
- 利用率
	- 分为**信道利用率**和**网络利用率**
	- **信道利用率**指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率为0
	- **网络利用率**则是全网路的信道利用率的加权平均值
	- 信道利用率并非越高越好，**当某信道的利用率增大时，该信道引起的时延也就迅速增加**
	- 时延与网络利用率的关系
		- 根据排队理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加
		- 若零D0 表示空闲网络的时延，D 表示网络当前的时延，则在适当的假定条件下，可以用下里面的简单公式表示D和D0的关系
		- **D = D0 / (1 - U)** . 其中U是网络的利用率，数值在0到1 之间
		- ![VZ7eQe.png](https://s2.ax1x.com/2019/05/27/VZ7eQe.png)
##### 计算机网络的非性能指标
- 费用
- 质量
- 标准化
- 可靠性
- 可扩展性和升级性
- 易于管理和维护
### 计算机网络的体系结构
##### 计算机网络体系结构的组成
- 计算机网络是个非常复杂的系统
- 相互通信的两个计算机系统必须**高度协调工作**，而这种协调是相当复杂的
- **分层**可将庞大而复杂的问题，转化为若干较小的局部问题，从而方便研究和处理
- 1974年，美国的IBM公司宣布了**系统网络体系节构SNA**
- 不久后，其他的一些公司也相继推出自己公司的具有不同名称的体系结构
- **由于网络体系结构的不同，不同公司的设备很难互相连通**
- 开放系统互联参考模型OSI/RM	
	- 为了使不同体系结构的计算机能相互连接
	- 提出了一个试图使各种计算机在世界范围内互连成网的标准框架，即著名的**开放系统互连参考模型OSI/RM**，简称为OSI
	- 只要遵循OSI标准，一个系统就可以和位于世界上任何地方的，也遵循这同意便准的其他任何系统进行通信
	- OSI只获得了一些理论研究的成果，在市场化方面却失败了，原因包括：
		- OSI的专家们在完成OSI标准时没有商业驱动力
		- OSI的协议实现起来过分复杂，且运行效率低
		- OSI标准的制定周期太长，因而使得按照OSI标准生产的设备无法及时进入市场
		- OSI的层次划分也不太合理，有些功能在多个层次中重复出现
	- 非国际标准TCP/IP却获得了最广泛的应用。TCP/IP常被称为**事实上的国际标准**
##### 协议与划分层次
- 计算机网络中的数据交互**必须遵守事先约定好的规则**
- 这些规则明确的**规定**了所交换的数据的格式以及有关的同步问题
- **网络协议**，简称为**协议**，是为进行网络中的数据交换而建立的规则，标准或者约定
- 网络协议的三个要素
	- 语法：数据与控制信息的节构或格式
	- 语义：需要发出何种控制信息，完成何种动作以及做出何种相应
	- 同步：事件实现顺序的详细说明
- 网络协议是计算机网络中不可缺少的部分
- 协议的两种形式
	- 一种是为了便于人来阅读和理解的**文字描述**
	- 另一种是使用让计算机能够理解的**程序代码**
	- 这两种不同形式的协议都必须能够对网络上信息交换功能**做出精确的解释**
- 层次式协议结构
	- ARPANET的研制经验表明，对于非常复杂的计算机网络协议，其**结构应该是层次式的**
	- 好处：
		- 各层之间是独立的
		- 灵活性好
		- 结构上可分割开
		- 易于实现和维护
		- 能促进标准化工作
	- 缺点
		- 降低效率
		- 有些功能会在不同的层次中重复出现，因而产生了额外的开销
	- 各层完成的主要功能
		- **差错控制**：是相应层次对等方的通信更加可靠
		- **流量控制**：发送端的发送速率必须使接受端来得及接受，不要太快
		- **分段和重装**：发送端将要发送的数据块划分为更小的单位，在接受端将其还原
		- **复用和分用**：发送端几个高层会话复用一条低层的连接，在接收端进行分用
		- **连接建立和连接释放**：交换数据前先建立一条逻辑连接，数据传送结束后释放连接
- 计算机网络的体系结构
	- 计算机网络的体系节构是计算机网络的各层及其协议的集合
	- 体系结构就是这计算机网络及其部件**所应完成功能的精确定义**
	- **实现**是遵循这种体系结构的前提下用何种硬件或软件完成这些功能的问题
	- **体系结构是抽象的，而实现是具体的，是真正在运行的计算机硬件和软件**
##### 具有五层协议的体系结构
- OSI的七层协议体系节构的概念清楚，理论也比较完整，但它既复杂又不实用
- TCP/IP是四层体系结构：应用层，运输层，网际层和网络接口层。
- 但最下面的网络接口层并没有具体内容。
- **因此往往采取折中的办法，即综合OSI和TCP/IP的优点，采用一种只有五层协议的体系结构**
- ![VZqaeH.png](https://s2.ax1x.com/2019/05/27/VZqaeH.png)
- **主机1向主机2发送数据**
	- **应用进程数据线传送到应用层，加上应用层首部，称为应用层PDU**
		- **PDU:协议数据单元，OSI参考模型把对等层次之间传送的数据单位称为该层的协议数据单元PDU**
	- **应用层PDU在传送到运输层，加上运输层首部，称为运输层报文**
	- **运输层报文在传送到网络层，加上网络层首部，称为IP数据报（或分组）**
	- **IP数据报在传送到数据链路层，加上链路层首部和尾部，称为数据链路层帧**
	- **数据链路层帧在传送到物理层，最下面的物理层把比特流传送到物理媒体**
	- **电信号（或光信号）在物理媒体中传播，从发送端物理层到接收端物理层**
	- **物理层接受到比特流，上交给数据链路层**
	- **数据链路层剥去帧首部和尾部，取出数据部分，上交给网络层**
	- **网络层剥去首部，取出数据部分，上交给运输层**
	- **运输层剥去首部，取出数据部分，上交给应用层**
	- **应用层剥去首部，取出应用程序数据，上交给应用进程**
	- ![VZLA7d.png](https://s2.ax1x.com/2019/05/27/VZLA7d.png)
##### 实体，协议，服务和服务访问点
- **实体**表示任何可发送或接受信息的硬件或软件进程
- **协议**是控制**两个对等实体**进行通信的规则集合
- 在协议控制下，两个对等实体间的通信使得本层能够**向上一层提供服务**。
- 要实现本层协议，还需要**使用下层所提供的服务**
- 协议和服务在概念上是不一样的
	- 协议的实现保证了能够向上一层提供服务。
	- 本层的服务用户**只能看见服务而无法看见下面的协议**，即下面的协议对上面的服务用户是**透明**的。
	- 协议是**水平的**，即协议是控制对等实体之间的通信规则
	- 服务是**垂直的**，即服务是由下层向上层通过层间接口提供的
	- 下层使用**服务原语**获得下层所提供的服务
- 服务访问点
	- 统一系统相邻两层的实体进行交互的地方称为**服务访问点SAP**
	- 服务访问点SAP是一个抽象的概念，他实际上就是一个逻辑接口
	- OSI把层与层之间交换的数据的单位称为**服务数据单元SDU**
	- SDU可以与PDU不一样，例如，可以是多个SDU合称为PDU，也可以是一个SDU划分为几个PDU。
	- ![Vn0z0e.png](https://s2.ax1x.com/2019/05/29/Vn0z0e.png)
	- 协议必须把所有**不利的条件**事先都估计到，而**不能假定**一切都是正常的和非常理想的。
	- 看一个计算机网络协议是否正确，不能光看在正常情况下是否正确，还必须非常仔细地检查这个协议**能否应付各种异常情况**
##### TCP/IP的体系结构
- ![VnBEX8.png](https://s2.ax1x.com/2019/05/29/VnBEX8.png)
- **路由器再转发分组时最高只使用到网际层而没有使用运输层和应用层**
- 实际上，现在的互联网使用的TCP/IP体系节构有时已经发生了演变，即某些应用程序可以直接使用IP层，或甚至直接使用最下面的网络接口层。
- ![VnBdhR.png](https://s2.ax1x.com/2019/05/29/VnBdhR.png)